---
title: Socket.io 클라이언트에서 중복 데이터 이슈 해결하기
date: 2023-09-05 20:00:00 +0900
categories:
  - JavaScript
tags:
  - socket
---

## 중복 데이터의 문제점

Socket.io를 사용하여 실시간 통신을 구현하면서 발생할 수 있는 문제 중 하나는 중복 데이터 수신입니다. 이 문제가 발생하면 데이터가 예상보다 여러 번 전송되어 애플리케이션 성능이 저하될 수 있습니다. 또한 이로 인해 발생하는 로직 오류는 더욱 심각한 문제를 일으킬 수 있습니다.

## 원인과 해결 방법

### 이벤트 리스너 중복 등록

가장 흔한 원인 중 하나는 이벤트 리스너가 여러 번 등록되는 것입니다. 이럴 경우, 같은 이벤트에 대해 여러 번 응답하게 되므로 중복 데이터가 발생합니다.

#### 해결 방안

- 이벤트 리스너를 한 번만 등록하도록 코드를 수정합니다.
- 초기화 과정에서 이벤트 리스너를 해제하고 다시 등록하는 로직을 구현합니다.

### 서버 측 문제

서버에서 같은 데이터를 여러 번 전송하는 경우도 있습니다. 이는 서버 로직의 문제일 가능성이 높습니다.

#### 해결 방안

- 서버 로직을 확인하여 중복 전송을 방지하는 코드를 추가합니다.

### 오류 코드: `EmitFailedException`

데이터 전송 중 에러가 발생하여 자동으로 재전송하는 경우, 이 역시 중복 데이터를 초래할 수 있습니다.

#### 해결 방안

- 에러 처리 로직을 통해 재전송을 방지하거나, 재전송 횟수를 제한합니다.

## 예방하는 방법

- 이벤트 리스너의 중복 등록을 방지하기 위해 코드 리뷰를 철저히 합니다.
- 서버와 클라이언트 사이의 데이터 전송을 로깅하여 문제를 빠르게 파악합니다.

이렇게 문제의 원인을 정확히 파악하고 적절한 해결 방안을 적용함으로써, Socket.io를 사용하는 애플리케이션에서 중복 데이터 수신 문제를 해결할 수 있습니다.