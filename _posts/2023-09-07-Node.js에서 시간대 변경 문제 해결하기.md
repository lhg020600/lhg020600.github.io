---
title: Node.js에서 시간대 변경 문제 해결하기
date: 2023-09-07 20:00:00 +0900
categories:
  - JavaScript
tags:
  - 노드시간변경
---

## 문제 상황: 시간대 변경이 적용되지 않음

StackOverflow에는 시간대를 변경한 후 Node.js 코드에 적용되지 않는 문제에 대한 여러 질문이 있습니다. 이 문제의 핵심은 일반적으로 '시스템 설정'에서 시간대를 변경하더라도 Node.js 애플리케이션에서 이를 자동으로 인식하지 못한다는 것입니다. 이런 문제를 겪는 경우, 코드를 다시 시작해야만 변경이 적용됩니다.

## 원인: Node.js의 시간대 처리 방식

Node.js는 애플리케이션을 시작할 때 시스템의 시간대 설정을 읽어옵니다. 그래서 애플리케이션 실행 중에 시간대를 변경하더라도, 이 변경사항은 자동으로 반영되지 않습니다. 이런 특성 때문에 사용자가 시스템의 시간대를 변경하더라도 Node.js 애플리케이션에는 즉시 반영되지 않는 것입니다.

## 해결책: 애플리케이션 재시작

가장 간단한 해결책은 애플리케이션을 재시작하는 것입니다. 이렇게 하면 Node.js는 새로운 시간대 설정을 읽어와서 적용합니다.

## 코드로 시간대 설정하기: `process.env.TZ`

코드 내에서 시간대를 설정하는 방법도 있습니다. `process.env.TZ` 환경 변수를 사용하여 애플리케이션 내에서 시간대를 지정할 수 있습니다.

```javascript
process.env.TZ = 'Asia/Seoul';
```

이 코드는 애플리케이션 내에서만 유효하며 시스템의 시간대 설정에는 영향을 주지 않습니다. 따라서 이 방법은 애플리케이션 별로 다른 시간대를 사용해야 하는 경우에 유용합니다.

## 에러 메시지에 주의하기

이 문제를 해결하려고 시도할 때 `Error: Unknown time zone` 같은 에러 메시지가 발생할 수 있습니다. 이는 지정한 시간대가 유효하지 않기 때문이므로, 올바른 시간대 이름을 사용해야 합니다.

## 정리

시간대 변경 문제는 Node.js가 애플리케이션을 시작할 때 시스템의 설정을 한 번만 읽기 때문에 발생합니다. 이를 해결하기 위해 애플리케이션을 재시작하거나 `process.env.TZ`를 사용하여 코드 내에서 시간대를 명시적으로 설정할 수 있습니다.